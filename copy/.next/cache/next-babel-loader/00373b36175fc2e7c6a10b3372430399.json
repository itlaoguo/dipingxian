{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Navbar, Nav, NavDropdown, Image } from 'react-bootstrap';\nimport './component.less';\nimport Router from 'next/router';\nimport { useState, useEffect } from 'react';\nNavDropdown; //导航子项\n\nfunction NavItem() {\n  // console.log(Router.router.pathname);\n  let list = [{\n    name: '首页',\n    url: '/',\n    isHome: true\n  }, {\n    name: '核心技术',\n    url: '/middle'\n  }, {\n    name: '智能驾驶',\n    url: '/auto'\n  }, {\n    name: '新闻中心',\n    url: '/news'\n  }, {\n    name: '关于我们',\n    url: '/about'\n  }, {\n    name: '加入我们',\n    url: '/joinus'\n  }, {\n    name: '开发者社区',\n    url: '/development'\n  }]; //判断当前路径，并加上进入状态\n\n  useEffect(() => {\n    list.forEach(item => {\n      if (item.url === Router.router.pathname) {\n        item['mounseIn'] = true;\n      }\n    });\n  });\n  const {\n    0: NavList,\n    1: setNavList\n  } = useState(list);\n\n  const mounseEnter = (e, item, index) => {\n    console.log('进入了状态‘；');\n    item['mounseIn'] = true;\n    let arr = [...NavList];\n    arr[index] = item;\n    setNavList(arr);\n  };\n\n  const onMouseLeave = (e, item, index) => {\n    if (item.url !== Router.router.pathname) {\n      item['mounseIn'] = false;\n      let arr = [...NavList];\n      arr[index] = item;\n      setNavList(arr);\n    }\n  };\n\n  return __jsx(Nav, {\n    id: \"parent-Nav\"\n  }, NavList.map((item, index) => {\n    return __jsx(Nav.Link, {\n      key: index,\n      href: item.url,\n      className: item['mounseIn'] && item['isHome'] ? 'moutrue blue-link homeColor' : item['mounseIn'] ? 'moutrue blue-link' : null,\n      onMouseEnter: event => mounseEnter(event, item, index),\n      onMouseLeave: event => onMouseLeave(event, item, index)\n    }, item.name);\n  }));\n} //头部组件\n\n\nexport default function Header() {\n  // console.log(Router, 'Router');\n  const {\n    0: isWhite,\n    1: setIsWhite\n  } = useState(false);\n  const {\n    0: transparent,\n    1: setTransparent\n  } = useState(0);\n  useEffect(() => {\n    Router.router.pathname === '/' ? setTransparent(1) : setIsWhite(true);\n  }, []);\n\n  const parentMouseIn = () => {\n    Router.router.pathname === '/' ? setTransparent(0) : '';\n    setIsWhite(true);\n  };\n\n  const parentMouseLeave = () => {\n    if (Router.router.pathname === '/') {\n      setTransparent(1);\n      setIsWhite(false);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: transparent === 1 ? 'Nav-parent is-transparent' : 'Nav-parent bg-white'\n  }, __jsx(Navbar, {\n    onMouseEnter: event => parentMouseIn(event),\n    onMouseLeave: event => parentMouseLeave(event),\n    collapseOnSelect: true,\n    expand: \"lg\"\n  }, __jsx(Navbar.Brand, {\n    href: \"#home\"\n  }, __jsx(Image, {\n    className: \"logo\",\n    src: isWhite ? '/static/blue-logo.png' : '/static/logo2x.png',\n    fluid: true\n  })), __jsx(Navbar.Toggle, {\n    \"aria-controls\": \"responsive-navbar-nav\"\n  }), __jsx(Navbar.Collapse, {\n    id: \"responsive-navbar-nav\"\n  }, __jsx(Nav, {\n    className: \"mr-auto\"\n  }), __jsx(NavItem, null))));\n}","map":null,"metadata":{},"sourceType":"module"}